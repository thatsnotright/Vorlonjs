var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},VORLON;!function(e){var t=function(t){function n(n,s,i,o){t.call(this,n),this.htmlFragmentUrl=s,this.cssStyleSheetUrl=i instanceof Array?i:"undefined"==typeof i?[]:[i],this.JavascriptSheetUrl=o instanceof Array?o:"undefined"==typeof o?[]:[o],this.debug=e.Core.debug}return __extends(n,t),n.prototype.startDashboardSide=function(){},n.prototype.onRealtimeMessageReceivedFromClientSide=function(){},n.prototype.sendToClient=function(t){e.Core.Messenger&&e.Core.Messenger.sendRealtimeMessage(this.getID(),t,e.RuntimeSide.Dashboard,"message")},n.prototype.sendCommandToClient=function(t,n){void 0===n&&(n=null),e.Core.Messenger&&(this.trace(this.getID()+" send command to client "+t),e.Core.Messenger.sendRealtimeMessage(this.getID(),n,e.RuntimeSide.Dashboard,"message",t))},n.prototype.sendCommandToPluginClient=function(t,n,s){void 0===s&&(s=null),e.Core.Messenger&&(this.trace(this.getID()+" send command to plugin client "+n),e.Core.Messenger.sendRealtimeMessage(t,s,e.RuntimeSide.Dashboard,"protocol",n))},n.prototype.sendCommandToPluginDashboard=function(t,n,s){void 0===s&&(s=null),e.Core.Messenger&&(this.trace(this.getID()+" send command to plugin dashboard "+n),e.Core.Messenger.sendRealtimeMessage(t,s,e.RuntimeSide.Client,"protocol",n))},n.prototype._insertHtmlContentAsync=function(e,t){var n=this,s=vorlonBaseURL+"/"+this.loadingDirectory+"/"+this.name+"/",i=!1;e||(e=document.createElement("div"),document.body.appendChild(e),i=!0);var o=new XMLHttpRequest;o.open("GET",s+this.htmlFragmentUrl,!0),o.onreadystatechange=function(){if(4===o.readyState){if(200!==o.status)throw new Error("Error status: "+o.status+" - Unable to load "+s+n.htmlFragmentUrl);for(var r=document.getElementsByTagName("head")[0],a=0;a<n.cssStyleSheetUrl.length;a++){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=s+n.cssStyleSheetUrl[a],l.media="screen",r.appendChild(l)}for(var a=0;a<n.JavascriptSheetUrl.length;a++){var d=document.createElement("script");d.type="text/javascript",d.src=s+n.JavascriptSheetUrl[a],r.appendChild(d)}e.innerHTML=n._stripContent(o.responseText),$(e).find(".split").length&&$(e).find(".split").is(":visible")&&!$(e).find(".vsplitter").length&&$(e).find(".split").split({orientation:$(e).find(".split").data("orientation"),limit:$(e).find(".split").data("limit"),position:$(e).find(".split").data("position")});var c=e.children[0];i&&(c.className="alone"),t(c)}},o.send(null)},n.prototype._stripContent=function(e){var t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im;if(e){e=e.replace(t,"");var s=e.match(n);s&&(e=s[1])}return e},n}(e.BasePlugin);e.DashboardPlugin=t}(VORLON||(VORLON={}));