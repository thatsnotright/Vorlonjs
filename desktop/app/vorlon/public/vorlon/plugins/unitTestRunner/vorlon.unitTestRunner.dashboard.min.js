var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},VORLON;!function(e){var t=function(t){function n(){t.call(this,"unitTestRunner","control.html","control.css"),this._ready=!0}return __extends(n,t),n.prototype.getID=function(){return"UNITTEST"},n.prototype.handleFileSelect=function(e){var t=this;this._txtRunTest.innerHTML="";for(var n,r=[],o=0;n=e[o];o++)r.push(new FileReader),r[o].onload=function(e){t._txtRunTest.innerHTML+=e.target.result},r[o].readAsText(n)},n.prototype.startDashboardSide=function(t){var n=this;void 0===t&&(t=null);var r=this;this._insertHtmlContentAsync(t,function(){n._btnRunTest=e.Tools.QuerySelectorById(t,"runTest"),n._inputFile=e.Tools.QuerySelectorById(t,"files"),n._inputFile.onchange=function(e){n.handleFileSelect(e.target.files)},n._dropPanel=e.Tools.QuerySelectorById(t,"dropPanel"),n._dropPanel.ondrop=function(e){e.stopPropagation(),e.preventDefault(),n.handleFileSelect(e.dataTransfer.files)},n._dropPanel.ondragover=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},n._dropPanel.ondragenter=function(e){e.stopPropagation(),e.preventDefault(),r._dropPanel.classList.add("droppable")},n._dropPanel.ondragleave=function(e){e.stopPropagation(),e.preventDefault(),r._dropPanel.classList.remove("droppable")},n._txtRunTest=e.Tools.QuerySelectorById(t,"txtRunTest"),n._btnRunTest.addEventListener("run",function(){n.sendCommandToClient("runTest",n._txtRunTest.value)}),n._containerList=e.Tools.QuerySelectorById(t,"testResultsList"),n._containerSummary=e.Tools.QuerySelectorById(t,"testResultsSummary")})},n.prototype.onRealtimeMessageReceivedFromClientSide=function(e){switch(e.commandType){case"testDone":var t=document.createElement("tr"),n=document.createElement("td"),r=document.createElement("td"),o=document.createElement("td"),a=document.createElement("td"),i=document.createElement("td"),d=document.createElement("td");n.innerHTML=e.name,r.innerHTML=e.module,o.innerHTML=e.passed,a.innerHTML=e.failed,i.innerHTML=e.runtime,d.innerHTML=e.total,t.appendChild(n),t.appendChild(r),t.appendChild(o),t.appendChild(a),t.appendChild(i),t.appendChild(d),this._containerList.appendChild(t);break;case"done":var n=document.createElement("td"),r=document.createElement("td"),o=document.createElement("td"),a=document.createElement("td"),i=document.createElement("td"),d=document.createElement("td");o.innerHTML=e.passed,a.innerHTML=e.failed,i.innerHTML="",d.innerHTML=e.total,this._containerSummary.innerHTML="",this._containerSummary.appendChild(n),this._containerSummary.appendChild(r),this._containerSummary.appendChild(o),this._containerSummary.appendChild(a),this._containerSummary.appendChild(i),this._containerSummary.appendChild(d)}},n}(e.DashboardPlugin);e.UnitTestRunnerDashboard=t,e.Core.RegisterDashboardPlugin(new t)}(VORLON||(VORLON={}));